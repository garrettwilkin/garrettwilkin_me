<!doctype html>
<html amp lang="en">
<head>
  <meta charset="utf-8">
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <title> Garrett Wilkin</title>
  <link rel="canonical" href="http://garrettwilkin.me/" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "ProfilePage",
      "headline": "Garrett Wilkin, AWS Solutions Architect - Associate",
      "lastReviewed": "2017-04-22T16:58:00Z",
      "datePublished": "2016-10-08T01:02:41Z",
      "image": [
        "img/avatar_v2_200.jpg"
      ]
    }
  </script>
  <style amp-custom>
  #container
  {
    width: 90%;
    max-width: 750px;
    margin: 0 auto;
  }

  .masthead
  {
    text-align: center;
  }

  body
  {
    color: rgba(71, 66, 59, 1);
    background-color: rgba(255, 255, 255, 1);
    font-size: large;
    font-family: 'Open Sans', sans-serif;
  }

  h1
  {
    color: rgb(0, 0, 0);
  }

  h2
  {
    color: rgb(0, 0, 0);
  }

  a:visited
  {
    color: rgba(119, 119, 119, 1);
  }

  a
  {
    color: rgba(167, 183, 183, 1);
  }

  #avatar
  {
    margin: auto;
    width: 200px;
  }

  li
  {
    padding-top: 3px;
  }

  .quote
  {
    text-align: center;
    font-style: italic;
  }

  .figure
  {
    width: auto;
    max-width: 750px;
    margin-left: 0px;
  }

</style>
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
</head>
<body>
  <div id="container">

    <h1 class="masthead" >garrettwilkin.me</h1>
    <div id="avatar" class="">
      <amp-img src="img/avatar_v2_200.jpg" alt="headshot of Garrett Wilkin" height="200" width="200"></amp-img>
    </div>

  <p class="quote">A technologist seeking meaningful work, challenging problems, and an inspiring team.</p>
  <h2>Certifications</h2>
    <h3>AWS Certified Solutions Architect â€“ Associate</h3>
    <amp-img src="img/Solutions-Architect-Associate.png" alt="headshot of Garrett Wilkin" layout="fixed" height="120" width="294"></amp-img>
    <h2>Work</h2>
  <h3>Current</h3>
  <ul>
    <li>BDN Maine - Lead Developer - Product Development &amp; DevOps since October 2014.</li>
  </ul>
  <h3>Previous</h3>
  <ul>
    <li>
      Parse.ly - Developer Evangelist
    </li>
    <li>
    Civic Hacking
    <ul>
      <li>
        Code for America brigade Co-Captain of <a href="http://codeformaine.org/">Code for Maine</a> 2013 - 2014.
      </li>
    </ul>
    </li>
    <li>
      Non-profit Leadership &amp; Education
      <ul>
        <li>
          Co-founder &amp; Board member <a href="http://hacktivate.org/">Hacktivate</a>, Connecting makers Since 2013.
        </li>
      </ul>
    </li>
  </ul>

<h2>Projects</h2>

<h3>AWS Migration - September 2016</h3>

<ul>
  <li>I recommended, planned, and executed a complete migration into Amazon Web Services of all web serving systems in use by the Bangor Publishing Company.</li>
  <li>Consolidating our services on AwS produced a 33% reduction in overall monthly hosting costs.</li>
  <li>In order to benefit as much as possible from Amazon's engineering and support I recommended adopting AWS managed services wherever possible, including:</li>
  <ul>
    <li>RDS - Relational Database Service</li>
    <li>VPC - Virtual Private Cloud
      <ul>
        <li>Security Groups</li>
        <li>Subnets and Subnet Groups</li>
      </ul>
    </li>
  <li>EC2 - Elastic Compute Cluster</li>
    <ul>
      <li>Auto scaling</li>
      <li>AMIs - Amazon Machine Images</li>
    </ul>
  <li>ElastiCache - Managed memcached</li>
  <li>Cloudfront - Content delivery &amp; full page caching</li>
  <li>S3 - Storage and serving of static assets</li>
  <li>Route53 - DNS</li>
  <li>Lamdba - On demand runtimes</li>
  <li>Cloudwatch - Monitoring and alerting</li>
</ul>
<li>Post migration I trained additional newsroom staff to monitor and report system stability incidents.</li>
</ul>

<h2>Tools</h2>
  <p>My typical tools of choice include:</p>
  <ul>
    <li>Python - flask, django, etc.</li>
    <li>Javascript - node.js server side or in the browser.</li>
    <li>Amazon Web Services.</li>
    <li>ansible - for repeatable deployment and configuration.</li>
    <li>AWS Cloudwatch or statsd + graphite - for monitoring.
    <li>git - for version control</li>
    <li>Postgres, MySQL, or Mongo at the database layer.</li>
    <li>Elasticsearch - You know, for search.</li>
    <li>Wordpress - the CMS that just works.</li>
    <li>Pagerduty - for alerting.</li>
    <li>Jenkins - for continuous integration & delivery</li>
  </ul>
  <p>Open source matters. I feel a deep sense of gratitude to the open source communities that have produced many of the
    applications I use in the solutions I build. I look forward to making my first open source contribution this year.</p>

  <h2>Remote Work</h2>

  <p>I worked remotely from the countryside of Maine for 4 years before accepting my current full time on site office workplace role.</p>
  <p>I prefer to use google hangouts, docs, slack and other apps for collaborating both in real-time and asynchronously with my colleagues and clients.</p>
  <p>I love the freedom to live where I choose, and have seen the efficiencies that the remote collaboration workflow can bring.</p>
  <p>I learned from experience that working remotely works better for me when I work from an office that is not also my home.</p>

  <h2>Contact</h2>
  <p>Drop me a line, I'd love to hear from you.</p>
  <ul>
    <li>twitter - <a href="http://twitter.com/garrettwilkin">garrettwilkin</a></li>
    <li>email - <a href="mailto:garrett.wilkin@gmail.com">garrett.wilkin@gmail.com</a></li>
    <li>github - <a href="http://github.com/garrettwilkin">garrettwilkin</a></li>
    <li>linkedin - <a href="https://www.linkedin.com/pub/garrett-wilkin/7/327/7aa">Garrett Wilkin</a></li>
    <li>resume - <a href="https://s3.us-east-2.amazonaws.com/garrett-wilkin-2017/GarettWilkin_LeadDeveloper.pdf">GarrettWilkin - Lead Developer - 2017</a></li>
  </ul>

  <h2>Conferences</h2>

    <p>It is really important to me to participate in the wider technical community. I just enjoy being around
      people that are passionate about building things because we help to inspire each others curiousity. I've
      been fortunate enough to be able to attend many conferences over the years, to have organized a few myself,
      and to have presented at a few as a speaker myself.</p>

  <ul>
      <li>2016 Sep - ONA16 - Online News Association&#8217;s annual gathering.</li>
      <ul>
        <li>Went as a technologist seeking to understand the soul of journalism.</li>
      </ul>
      <li>2015 Sep - Agents of Change</li>
      <ul>
        <li>Presented with BDN Maine colleagues Jake Emerson and Shannon Kinney on data, audience, and advertising.</li>
      </ul>
      <li>2015 Jul - WordCamp Boston</li>
      <ul>
        <li>Attended with the BDN team.</li>
      </ul>
      <li>2014 Sep - Code for America Summit</li>
      <ul>
        <li>My first in person meetup with Code for America crew from across the US.</li>
      </ul>
      <li>2014 Jun - Hacking Journalism</li>
      <ul>
        <li>Partipated as an event sponsor (and hackathon entrant) as an evangelist for Parse.ly's analytics platform.</li>
      </ul>
      <li>2014 Jun - Maine Civic Hack Day</li>
      <ul>
        <li>A bigger and better version of MCHD 2013. More problems, more participants, more awesome! </li>
      </ul>
      <li>2013 Nov - Ultimate Developer Event</li>
      <ul>
        <li>Presented on Civic hacking and building community (with laryngitis).</li>
      </ul>
      <li>2013 Aug - BDN What&#8217;s NEXT</li>
      <ul>
        <li>Panelist on tech innovation in Maine</li>
      </ul>
      <li>2013 Jun - Maine Civic Hack Day</li>
      <ul>
        <li>Organized my first event!</li>
      </ul>
      <li>2012 Mar - SXSW Interactive</li>
      <ul>
        <li>Attended as press with ProgrammableWeb</li>
      </ul>
      <li>2012 Mar - Angel Hack Boston</li>
      <ul>
        <li>Second hackathon!</li>
      </ul>
      <li>2011 Nov - Music Hackday</li>
      <ul>
        <li>My first hackathon!</li>
      </ul>
    </ul>

  <h2>Infrequently Asked Questions</h2>

  <h3>
    If you could have one super power (and only one), which one would you choose?
  </h3>

  <p>
    If I could have one and only one super power, it would be the ability to wield stone through telekenesis. Stone is a long term material.It is sturdy and will stand the test of time. I seek to create a lasting postive effect on the world, and that's why this super power appeals to me. Which one would you choose?
  </p>

  <h3>Tell me about a time when you encouraged the adoption of a new tool to a set of users?</h3>

    <p>
      I lead the adoption of DevOps culture at the Bangor Daily News.
    </p>
    <p>
      The essential tools and processes we adopted include:
    </p>

    <ul>
      <li>
        Storing configuration in source control (GitHub).
      </li>
      <li>
        Repeatable deployments through ansible playbooks.
      </li>
      <li>
        Multi-stage development and deployment environments: (development, staging, performance, and production).
      </li>
      <li>
        Monitoring resource utilization, specifically on web serving and database instances.
      </li>
    </ul>

    <h3>How about some charts?</h3>

    <p>
      Here's a chart of a bit of custom metrics monitoring I configured for the WordPress REST api, which we run in
      production at bangordailynews.com.
    </p>
    <figure>
      <img src="https://s3.us-east-1.amazonaws.com/garrettwilkin.me/img/aws_cloudwatch_wordpress_rest_api.jpg">
      <figcaption>
        Our Lambda function activity, represented in the rest-api-python-ua-requests series, is the single largest
        source of WordPress REST API traffic.
      </figcaption>
    </figure>
    <p>
      The WordPress REST API officially landed in v4.6. Version v4.8 has been released and received a maintenance patch, but its still a relatively lightly used feature of WordPress content syndication compared to the amount of traffic that we see from bots consuming HTML or RSS. We are still the most active consumers of our own API.
    </p>

    <p>
      Our primary use case for the WordPress REST API is to ingest analytics data.  We recently launched two AWS lambda functions that poll Google Analytics 360 for both realtime and historical metrics. The metrics are joined to our articles (WordPress posts) using the path portion of the URL. Once we've determined which metrics match to which WordPress post, we can then update the post with that metrics data.
    </p>
    <p>
      Shortly after launching these lambda functions we noticed a marked increase in CPU utilization in our Aurora RDS cluster.
    </p>
    <figure>
      <img src="http://s3.us-east-1.amazonaws.com/garrettwilkin.me/img/aws_cloudwatch_wordpress_rds_cpu.png">
      <figcaption>Aurora RDS cluster showing several weeks of CPU utilization over 100% at peak from
        initial Lambda deployment on June 29th until reducing frequency of scheduled invocation from 5 to 10 minutes on
        July 30th.</figcaption>
    </figure>
    <p>
      After admitting that it really was likely that the lamdba functions were causing this increased CPU Utilization, the simplest possible way to reduce utilization over all would simply be to run the functions less frequently. The function for handling real time performance metrics would only update around 30 posts in WordPress per invocation, but the function for processing historical metrics would update as many as 100 posts per run. This is simply because there are more unique URLs with significant traffic over a longer time period.
    </p>
     <p>
       The historical function actually took between 200 and 300 seconds to execute at each invocation, primarily due to the synchronous method in which it executes its HTTP requests. Since each transaction takes between 1-2 seconds on average, and the function has just over 100 API calls to make, it's easy to run into an execution time lasting 4&plus; minutes.
       </p>
    <p>
      So we went into the AWS lambda console to the configuration details for the longer running historical lambda
      function, detached the Cloudwatch trigger on an &quot;every five minutes&quot; schedule from the historical function, and enabled a new &quot;every ten minutes&quot; trigger. Just like that, our peak CPU
      Utilization in the RDS cluster returned to a tolerable range.
    </p>
    <p>
 A runtime duration of several minutes may seem ludicrous when you consider the 'quick, cheap, infrequent' use case scenario that lambda is meant to serve.  But in our case, the incentive to further optimize the performance of this script is low for now. Running for 4-5 minutes out of every 10 minutes is still hardly 50% utilization, and the 128MB container size is ample, since the script only ever consumes ~30MB while running.
    </p>
 Even with this long runtime, scheduling the function to run every 10 minutes uses only about a third of the Lambda free tier allotment.
    </p>
</div>
</body>
</html>
